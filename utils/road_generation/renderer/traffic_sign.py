SIGN_MESHES = {
    "10_zone_beginn": {"mesh": "10zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "20_zone_beginn": {"mesh": "20zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "40_zone_beginn": {"mesh": "30zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "50_zone_beginn": {"mesh": "50zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "60_zone_beginn": {"mesh": "60zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "70_zone_beginn": {"mesh": "70zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "80_zone_beginn": {"mesh": "80zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "90_zone_beginn": {"mesh": "90zone_start", "collision_box_size": "0.11 0.15 0.29",
                       "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_10_zone": {"mesh": "10zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_20_zone": {"mesh": "20zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_40_zone": {"mesh": "40zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_50_zone": {"mesh": "50zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_60_zone": {"mesh": "60zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_70_zone": {"mesh": "70zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_80_zone": {"mesh": "80zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "ende_90_zone": {"mesh": "90zone_end", "collision_box_size": "0.11 0.15 0.29",
                     "collision_box_pose": "-0.055 0 0.145 0 0 0"},
    "stvo-108-10": {"mesh": "Steigung_Ende", "collision_box_size": "0.11 0.15 0.29",
                    "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # gefaelle 10 (ende)
    "stvo-110-10": {"mesh": "Steigung_Start", "collision_box_size": "0.11 0.15 0.29",
                    "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # steigung 10 (begin)
    "stvo-205": {"mesh": "VorfahrtGewaehren", "collision_box_size": "0.11 0.15 0.29",
                 "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # vorfahrt gewaehren
    "stvo-206": {"mesh": "Stopschild", "collision_box_size": "0.11 0.15 0.29",
                 "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # stop
    "stvo-208": {"mesh": "Barred_area", "collision_box_size": "0.11 0.15 0.29",
                 "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # gegenverkehr vorrang (begin)
    "stvo-209-10": {"mesh": "Links_abbiegen", "collision_box_size": "0.11 0.15 0.29",
                    "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # turn left
    "stvo-209-20": {"mesh": "Rechts_abbiegen", "collision_box_size": "0.11 0.15 0.29",
                    "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # turn right
    "stvo-222": {"mesh": "VorbeifahrtRechts_pedestrian", "collision_box_size": "0.11 0.15 0.15",
                 "collision_box_pose": "-0.055 0 0.075 0 0 0"},  # rechts vorbeifahren (on pedestrian island)
    "stvo-274.1": {"mesh": "30zone_start", "collision_box_size": "0.11 0.15 0.29",
                   "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # zone 30 (begin)
    "stvo-274.2": {"mesh": "30zone_end", "collision_box_size": "0.11 0.15 0.29",
                   "collision_box_pose": "-0.055 0 0.145 0 0 0"}, # zone 30 (end)
    "stvo-306": {"mesh": "Vorfahrt", "collision_box_size": "0.11 0.15 0.29",
                 "collision_box_pose": "-0.055 0 0.145 0 0 0"},  # vorfahrtstrasse
    "stvo-350-10": {"mesh": "PedestrianCrossing", "collision_box_size": "0.11 0.15 0.29",
                    "collision_box_pose": "-0.055 0 0.145 0 0 0"}, # zebra crossing
    "stvo-625-10": {"mesh": "Abbiegeschild_links", "collision_box_size": "0.09 0.1 0.11",
                    "collision_box_pose": "-0.045 0 0.055 0 0 0"},  # small curve sign (left)
    "stvo-625-11": {"mesh": "Abbiegeschild_gross_links", "collision_box_size": "0.09 0.3 0.11",
                    "collision_box_pose": "-0.045 0 0.055 0 0 0"}, # large curve sign (left)
    "stvo-625-20": {"mesh": "Abbiegeschild_rechts", "collision_box_size": "0.09 0.1 0.11",
                    "collision_box_pose": "-0.045 0 0.055 0 0 0"},  # small curve sign (right)
    "stvo-625-21": {"mesh": "Abbiegeschild_gross_links", "collision_box_size": "0.09 0.3 0.11",
                    "collision_box_pose": "-0.045 0 0.055 0 0 0"}  # large curve sign (right)
}


def draw(sign, target_dir):
    return model(sign.centerPoint.x, sign.centerPoint.y, 0.0, sign.orientation,
                 "Sign/{0}".format(sign.id), SIGN_MESHES[sign.type]["mesh"],
                 SIGN_MESHES[sign.type]["collision_box_pose"],
                 SIGN_MESHES[sign.type]["collision_box_size"])


def model(x, y, z, orientation, name, mesh, collision_box_pose, collision_box_size):
    return """
    <model name='Sign-{name}'>
      <link name='link'>
        <visual name='visual'>
          <cast_shadows>1</cast_shadows>
          <geometry>
            <mesh>
                <uri>file://meshes/{mesh}.dae</uri>
                <scale>0.001 0.001 0.001</scale>
            </mesh>
          </geometry>
        </visual>
        <collision name='collision'>
            <pose>{collision_box_pose}</pose>
            <geometry>
                <box>
                  <size>{collision_box_size}</size>
                </box>
            </geometry>
        </collision>
        <self_collide>0</self_collide>
      </link>
      <pose frame=''>{x} {y} {z} {angle} 0 {orientation}</pose>
    </model>
    """.format(x=x, y=y, z=z, orientation=orientation, name=name,
               mesh=mesh, angle=0, collision_box_pose=collision_box_pose, collision_box_size=collision_box_size)
