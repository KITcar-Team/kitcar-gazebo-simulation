<!-- KITcar launch script for pre_cropping -->
<launch>
  <arg name="start_activated" default="true" />

  <arg name="car_name" default="dr_drift" />
 
  <arg name="name" default="curves"/>
	<arg name="gui" default="false"/>
  <arg name="recording" default="false"/>
  <arg name="debug" default="false"/>
  <arg name="physics" default="ode"/>
  <arg name="verbose" default="false"/>
	<arg name="rviz" default="false"/>
	<arg name="tolerance" default="0.5"/>


	<include file="$(find gazebo_simulation)/launch/road.launch">
		<arg name="car_name" value="$(arg car_name)"/>
		<arg name="name" value="$(arg name)"/>
		<arg name="gui" value="$(arg gui)"/>
    <arg name="recording" value="$(arg recording)"/>
    <arg name="debug" value="$(arg debug)"/>
		<arg name="rviz" value="$(arg rviz)" />
	</include>

	<node name="car_state_node" ns="gazebo_simulation" pkg="gazebo_groundtruth" type="car_state_node" output="screen">
		<param name="start_activated" value="$(arg start_activated)" />
		<param name="road" value="$(arg name)"/>
		<param name="car_name" value="$(arg car_name)"/>
  </node>  
	<node name="drive_logger_node" ns="gazebo_simulation" pkg="gazebo_groundtruth" type="drive_logger_node" output="screen">
		<param name="start_activated" value="$(arg start_activated)" />
		<param name="road" value="$(arg name)"/>
		<param name="car_name" value="$(arg car_name)"/>
		<param name="tolerance" value="$(arg tolerance)"/>
  </node>

	<test test-name="test_automatic_state" pkg="gazebo_groundtruth" time-limit="120" type="automatic_simulation_test"/>

</launch>
